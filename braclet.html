<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Page Setup and Styling -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Earrings - Athena</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- ======== HEADER: Contains Back Button and Cart Icon ======== -->
  <header style="display: flex; justify-content: space-between; align-items: center; padding: 20px;">
    
    <!-- Back Button (Left) -->
    <div class="nav-left">
      <a href="shop.html" class="back-arrow" aria-label="Back to shop">
        <!-- Missing icon/text - you can add text like "â† Back" or an SVG icon here -->
      </a>
    </div>
  
    <!-- Cart Icon (Right) -->
    <div class="nav-right">
      <a href="cart.html" class="cart-icon" title="View Cart">
        <!-- Cart Icon SVG -->
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="28" height="28" style="fill: #333;">
          <path d="M7 18c-1.104 0-1.99.895-1.99 2S5.896 22 7 22s2-.896 2-2-.896-2-2-2zm10 
          0c-1.104 0-1.99.895-1.99 2S15.896 22 17 22s2-.896 2-2-.896-2-2-2zM7.334 
          14.76l.02.004 10.17-.01c.84 0 1.562-.522 1.85-1.3l2.603-6.84A1 1 0 
          0021 5H6.21L5.27 2.58A1 1 0 004.35 2H2v2h1.34l3.6 
          9.59c.173.46.58.81 1.064.91z"/>
        </svg>
      </a>
    </div>
  </header>

  <!-- ======== MAIN CONTENT: Product Grid Section ======== -->
  <main>
    <section id="shop-section" style="margin-top: 30px;">
      <!-- Brand Title -->
      <center><h1 class="brand-heading">A T H E N A</h1></center>

      <!-- Container to hold product cards -->
      <div id="product-container" class="product-grid"></div>
    </section>
  </main>

  <!-- ======== MODAL POPUP: Shows product details when clicked ======== -->
  <div id="product-modal" class="modal hidden">
    <div class="modal-content">
      <!-- Close Button (X) -->
      <span class="close-btn">&times;</span>

      <!-- Modal Image, Name, and Price -->
      <img id="modal-image" src="" alt="Product">
      <h2 id="modal-name"></h2>
      <p id="modal-price"></p>
    </div>
  </div>

  <!-- ======== SCRIPT 1: Load and Display Products ======== -->
  <script src="products.js"></script>
  <script>
    // Reference to product container
    const container = document.getElementById("product-container");

    // Filter products for category "bracelet" (change as needed)
    const items = products.filter(p => p.category === "bracelet");

    // Create product cards and add to page
    items.forEach(product => {
      const card = document.createElement("div");
      card.className = "product-card";
      card.innerHTML = `
        <div class="image-wrapper">
          <img src="${product.image1}" class="main-img" alt="${product.name}">
          <img src="${product.image2}" class="hover-img" alt="${product.name}">
        </div>
        <h3>${product.name}</h3>
        <p>${product.price}</p>
        <button class="add-to-cart-btn" onclick="addToCart(${product.id})">Add to Cart</button>
      `;

      // Show modal only if click is not on the button
      card.addEventListener("click", (e) => {
        if (!e.target.classList.contains('add-to-cart-btn')) {
          openModal(product);
        }
      });

      container.appendChild(card);
    });

    // Function to open product modal
    function openModal(product) {
      document.getElementById("modal-image").src = product.image1;
      document.getElementById("modal-name").textContent = product.name;
      document.getElementById("modal-price").textContent = product.price;
      document.getElementById("product-modal").classList.remove("hidden");
    }

    // Close modal on clicking close button
    document.querySelector(".close-btn").addEventListener("click", () => {
      document.getElementById("product-modal").classList.add("hidden");
    });
  </script>

  <!-- ======== SCRIPT 2: Add-to-Cart + Toast Notification ======== -->
  <script>
    function addToCart(productId) {
      // Get product by ID
      const product = products.find(p => p.id === productId);

      // Load or initialize cart
      let cart = JSON.parse(localStorage.getItem('cart')) || [];

      // Check if product is already in cart
      const existingItem = cart.find(item => item.id === product.id);
      if (existingItem) {
        existingItem.quantity += 1;
      } else {
        cart.push({ ...product, quantity: 1 });
      }

      // Save updated cart
      localStorage.setItem('cart', JSON.stringify(cart));

      // Show toast notification
      showToast(`${product.name} added to cart!`);
    }

    // Display toast message for 2 seconds
    function showToast(message) {
      const toast = document.getElementById("toast");
      toast.textContent = message;
      toast.style.opacity = 1;
      setTimeout(() => {
        toast.style.opacity = 0;
      }, 2000);
    }
  </script>

  <!-- ======== FOOTER: Contact & Social Links ======== -->
  <footer style="background: #eed6f7; padding: 20px; text-align: center; font-family: cursive;">
    <p>Contact us at <a href="mailto:athena@example.com">athena@example.com</a></p>
    <p>Follow us:
      <a href="#">Instagram</a> |
      <a href="#">Facebook</a> |
      <a href="#">Pinterest</a>
    </p>
    <p>&copy; 2025 Athena Jewelry</p>
  </footer>

  <!-- ======== TOAST Notification Element (hidden by default) ======== -->
  <div id="toast"></div>

</body>
</html>