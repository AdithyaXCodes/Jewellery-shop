<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Basic Meta and Page Setup -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Earrings - Athena</title>

  <!-- Link to external CSS file -->
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- ======= HEADER ======= -->
  <header style="display: flex; justify-content: space-between; align-items: center; padding: 20px;">
    <div class="nav-left">
      <!-- Back link to main shop page -->
      <a href="shop.html" class="back-arrow" aria-label="Back to shop">
        <!-- (You can insert a back arrow SVG or text inside this <a> tag) -->
      </a>
    </div>

    <div class="nav-right">
      <!-- Link to cart page with a cart icon -->
      <a href="cart.html" class="cart-icon" title="View Cart">
        <!-- Cart Icon SVG -->
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="28" height="28" style="fill: #333;">
          <path d="M7 18c-1.104 0-1.99.895-1.99 2S5.896 22 7 22s2-.896 2-2-.896-2-2-2zm10 
          0c-1.104 0-1.99.895-1.99 2S15.896 22 17 22s2-.896 2-2-.896-2-2-2zM7.334 
          14.76l.02.004 10.17-.01c.84 0 1.562-.522 1.85-1.3l2.603-6.84A1 1 0 
          0021 5H6.21L5.27 2.58A1 1 0 004.35 2H2v2h1.34l3.6 
          9.59c.173.46.58.81 1.064.91z"/>
        </svg>
      </a>
    </div>
  </header>

  <!-- ======= MAIN SECTION ======= -->
  <main>
    <section id="shop-section" style="margin-top: 30px;">
      <!-- Brand Heading -->
      <center><h1 class="brand-heading">A T H E N A</h1></center>

      <!-- Product Grid Container (filled dynamically) -->
      <div id="product-container" class="product-grid"></div>
    </section>
  </main>

  <!-- ======= PRODUCT MODAL ======= -->
  <div id="product-modal" class="modal hidden">
    <div class="modal-content">
      <span class="close-btn">&times;</span>
      <img id="modal-image" src="" alt="Product">
      <h2 id="modal-name"></h2>
      <p id="modal-price"></p>
    </div>
  </div>

  <!-- ======= SCRIPTS ======= -->
  <!-- Import Product Data -->
  <script src="products.js"></script>

  <script>
    // Reference to the container
    const container = document.getElementById("product-container");

    // Filter only earrings from products.js
    const items = products.filter(p => p.category === "earring");

    // Create product cards
    items.forEach(product => {
      const card = document.createElement("div");
      card.className = "product-card";

      // Card HTML structure
      card.innerHTML = `
        <div class="image-wrapper">
          <img src="${product.image1}" class="main-img" alt="${product.name}">
          <img src="${product.image2}" class="hover-img" alt="${product.name}">
        </div>
        <h3>${product.name}</h3>
        <p>${product.price}</p>
        <button class="add-to-cart-btn" onclick="addToCart(${product.id})">Add to Cart</button>
      `;

      // Modal opening logic (only when not clicking button)
      card.addEventListener("click", (e) => {
        if (!e.target.classList.contains('add-to-cart-btn')) {
          openModal(product);
        }
      });

      // Append card to container
      container.appendChild(card);
    });

    // Open modal with product details
    function openModal(product) {
      document.getElementById("modal-image").src = product.image1;
      document.getElementById("modal-name").textContent = product.name;
      document.getElementById("modal-price").textContent = product.price;
      document.getElementById("product-modal").classList.remove("hidden");
    }

    // Close modal on clicking the close button
    document.querySelector(".close-btn").addEventListener("click", () => {
      document.getElementById("product-modal").classList.add("hidden");
    });
  </script>

  <!-- ======= ADD TO CART + TOAST ======= -->
  <script>
    // Add product to localStorage cart
    function addToCart(productId) {
      const product = products.find(p => p.id === productId);
      let cart = JSON.parse(localStorage.getItem('cart')) || [];

      // If product already in cart, increase quantity
      const existingItem = cart.find(item => item.id === product.id);
      if (existingItem) {
        existingItem.quantity += 1;
      } else {
        cart.push({ ...product, quantity: 1 });
      }

      // Update localStorage
      localStorage.setItem('cart', JSON.stringify(cart));

      // Show toast message
      showToast(`${product.name} added to cart!`);
    }

    // Show temporary toast message
    function showToast(message) {
      const toast = document.getElementById("toast");
      toast.textContent = message;
      toast.style.opacity = 1;
      
      setTimeout(() => {
        toast.style.opacity = 0;
      }, 2000);
    }
  </script>

  <!-- ======= FOOTER ======= -->
  <footer style="background: #eed6f7; padding: 20px; text-align: center; font-family: cursive;">
    <p>Contact us at <a href="mailto:athena@example.com">athena@example.com</a></p>
    <p>Follow us:
      <a href="#">Instagram</a> |
      <a href="#">Facebook</a> |
      <a href="#">Pinterest</a>
    </p>
    <p>&copy; 2025 Athena Jewelry</p>
  </footer>

  <!-- ======= TOAST MESSAGE ELEMENT ======= -->
  <div id="toast"></div>
</body>
</html>